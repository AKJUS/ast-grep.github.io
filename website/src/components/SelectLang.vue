<script lang="ts" setup>
import {languageDisplayNames} from './lang'
import IconDown from './utils/IconDown.vue'

defineProps({
  modelValue: {
    type: String,
    default: 'javascript',
  },
})

const emits = defineEmits<{
  (e: 'update:modelValue', val: string): void
}>()

function onChange(event: Event) {
  const target = event.target as HTMLSelectElement
  emits('update:modelValue', String(target.value))
}

</script>
<template>
  <div class="selector">
    Language:
    <select :value="modelValue" @change="onChange">
      <option class="selector-option-text" v-for="val, key in languageDisplayNames" :value="key">{{val}}</option>
    </select>
    <IconDown/>
  </div>
</template>

<style scoped>
.selector {
  text-align: left;
}
select {
  line-height: 1.5em;
  padding: 0.5em 0 0.5em 0.5em;
  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;
  cursor: pointer;
}
.selector-option-text {
  color: var(--vp-custom-selctor-option-text);
}
@media only screen and (max-width: 780px) {
  .selector {
    display: none;
  }
}
</style>